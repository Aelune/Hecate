#  _   _ _____ ____    _  _____ _____
# | | | | ____/ ___|  / \|_   _| ____|     /\_/\
# | |_| |  _|| |     / _ \ | | |  _|      ( o.o )
# |  _  | |__| |___ / ___ \| | | |___      > ^ <
# |_| |_|_____\____/_/   \_\_| |_____|
#
# 🎀 Decoration Configuration
# -------------------------------------------------
# 📚 Official Wiki:
#   Window Rules -> https://wiki.hypr.land/Configuring/Window-Rules/
#   Misc Options -> https://wiki.hypr.land/Configuring/Binds/#misc
#   Plugins -> https://wiki.hypr.land/Plugins/Using-Plugins/
# 💡 Quick Tips:
#   1. Use `rgba(RRGGBBAA)` for colors — last two digits are transparency.
#   2. Plugins must be installed *and* enabled via `hyprpm` to work.
#       Install Plugins only if you Trust, some plugins can break your hyprland setup.
#   3. Borders & background colors can be animated (see animations.conf).
#
# 🛠️ Syntax Reminder:
#   rgba(HEX) format is case-insensitive, e.g. rgba(f7dcde39) works too.
#
# -------------------------------------------------

# ────────────────────────────────────────────────────────────────
#  Borders & Styling
# ────────────────────────────────────────────────────────────────
general {
    col.active_border   = rgba(F7DCDE39)
    col.inactive_border = rgba(A58A8D30)
    resize_on_border    = true
    layout              = dwindle
}

# ────────────────────────────────────────────────────────────────
#  Background
# ────────────────────────────────────────────────────────────────
misc {
    background_color = rgba(1D1011FF)
    disable_hyprland_logo     = true
    disable_splash_rendering  = true
    vfr                       = true
    vrr                       = 2
    mouse_move_enables_dpms   = true
    enable_swallow            = off
    swallow_regex             = ^(kitty)$
    focus_on_activate         = false
    initial_workspace_tracking = 0
    middle_click_paste        = false
}

# ────────────────────────────────────────────────────────────────
#  Layout Tweaks
# ────────────────────────────────────────────────────────────────
dwindle {
    pseudotile           = true
    preserve_split        = true
    special_scale_factor  = 0.8
    #smart_split          = true
}

master {
    new_status = master
    new_on_top = 1
    mfact      = 0.5
}

# ────────────────────────────────────────────────────────────────
#  Input Devices
# ────────────────────────────────────────────────────────────────
input {
    kb_layout = us
    repeat_rate  = 50
    repeat_delay = 300
    sensitivity  = 0
    numlock_by_default = true
    left_handed       = false
    follow_mouse      = 1
    float_switch_override_focus = false

    touchpad {
        disable_while_typing    = true
        natural_scroll          = true
        clickfinger_behavior    = false
        middle_button_emulation = false
        tap-to-click            = true
        drag_lock               = false
    }

    touchdevice {
        enabled = true
    }

    tablet {
        transform   = 0
        left_handed = 0
    }
}

# ────────────────────────────────────────────────────────────────
#  Gestures
# ────────────────────────────────────────────────────────────────
gestures {
    workspace_swipe                = true
    workspace_swipe_fingers        = 3
    workspace_swipe_distance       = 500
    workspace_swipe_invert         = true
    workspace_swipe_min_speed_to_force = 30
    workspace_swipe_cancel_ratio   = 0.5
    workspace_swipe_create_new     = true
    workspace_swipe_forever        = true
    #workspace_swipe_use_r         = true
}

# ────────────────────────────────────────────────────────────────
#  Cursor
# ────────────────────────────────────────────────────────────────
cursor {
    sync_gsettings_theme  = true
    no_hardware_cursors   = 2
    enable_hyprcursor     = true
    warp_on_change_workspace = 2
    no_warps              = true
}

# ────────────────────────────────────────────────────────────────
#  Rendering & XWayland
# ────────────────────────────────────────────────────────────────
render {
    direct_scanout = 0
}

xwayland {
    enabled              = true
    force_zero_scaling   = true
}

# ────────────────────────────────────────────────────────────────
#  Bind Behavior
# ────────────────────────────────────────────────────────────────
binds {
    workspace_back_and_forth = true
    allow_workspace_cycles   = true
    pass_mouse_when_bound    = false
}

# ────────────────────────────────────────────────────────────────
#  Plugins
# ────────────────────────────────────────────────────────────────
plugin {

    # Hyprfocus (Focus Animation)
    hyprfocus {
        mode            = bounce
        bounce_strength = 0.99
    }

    # Optional: Hyprbars
    # hyprbars {
    #     bar_text_font               = Rubik, Geist, AR One Sans, Reddit Sans, Inter, Roboto, Ubuntu, Noto Sans, sans-serif
    #     bar_height                  = 30
    #     bar_padding                 = 10
    #     bar_button_padding          = 5
    #     bar_precedence_over_border  = true
    #     bar_part_of_window          = true
    #     bar_color                   = rgba(1D1011FF)
    #     col.text                    = rgba(F7DCDEFF)
    #     hyprbars-button = rgb(F7DCDE), 13, 󰖭, hyprctl dispatch killactive
    #     hyprbars-button = rgb(F7DCDE), 13, 󰖯, hyprctl dispatch fullscreen 1
    #     hyprbars-button = rgb(F7DCDE), 13, 󰖰, hyprctl dispatch movetoworkspacesilent special
    # }

    # Optional: nstack
    # nstack {
    #     layout {
    #         orientation           = right
    #         new_on_top            = 0
    #         new_is_master         = 1
    #         no_gaps_when_only     = 0
    #         special_scale_factor  = 0.8
    #         inherit_fullscreen    = 1
    #         stacks                = 2
    #         center_single_master  = 0
    #         mfact                 = 0.5
    #         single_mfact          = 0.5
    #     }
    # }
}

# ────────────────────────────────────────────────────────────────
#  Window Rules for Pinned Windows
# ────────────────────────────────────────────────────────────────
windowrulev2 = bordercolor rgba(FFB2BCAA) rgba(FFB2BC77), pinned:1
