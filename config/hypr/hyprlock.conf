# Sourcing colors generated by wallust
source = $HOME/.config/hypr/wallust/wallust-hyprland.conf
$Scripts = $HOME/.config/hypr/scripts

general {
    grace = 2
    hide_cursor = false
    no_fade_in = false
    no_fade_out = false
    ignore_empty_input = false
    fractional_scaling = 2
    immediate_render = true
}

background {
    monitor =
    path = $HOME/.config/hypr/wallpaper_effects/lock-screen
    color = rgba(25, 20, 20, 0.5)

    # Enhanced blur settings for better aesthetics
    blur_size = 5
    blur_passes = 3
    noise = 0.0117
    contrast = 1.2000
    brightness = 0.7000
    vibrancy = 0.2500
    vibrancy_darkness = 0.1500
}

# Decorative ring around time (optional visual enhancement)
shape {
    monitor =
    size = 360, 360
    color = rgba(255, 255, 255, 0.05)
    rounding = 180
    border_size = 4
    border_color = $color9
    rotate = 0
    xray = false

    position = 0, 80
    halign = center
    valign = center
}

# # Date with improved positioning
# label {
#     monitor =
#     text = cmd[update:18000000] echo "<b>$(date +'%A, %B %-d')</b>"
#     color = $color13
#     font_size = 18
#     font_family = Victor Mono Bold Italic
#     position = 0, -80
#     halign = center
#     valign = center
# }

# Hour-Time with better visual hierarchy
label {
    monitor =
    #clock
    text = cmd[update:1000] echo "$TIME"
    color = $color7
    font_size = 55
    font_family = Fira Semibold
    position = 0, 80
    halign = center
    valign = center
    shadow_passes = 5
    shadow_size = 10
}
# Seconds
label {
    monitor =
    text = cmd[update:1000] echo "$(date +'%S')"
    color = $color8
    font_size = 24
    font_family = JetBrainsMono Nerd Font ExtraBold
    position = 50, 120
    halign = center
    valign = center
}

# AM/PM
label {
    monitor =
    text = cmd[update:1000] echo "$(date +'%p')"
    color = $color14
    font_size = 18
    font_family = JetBrainsMono Nerd Font Bold
    position = 85, 120
    halign = center
    valign = center
}

# Profile picture placeholder (uncomment and customize path)
image {
    monitor =
    path = $HOME/.face
    # Fallback: path = $HOME/.config/hypr/wallpaper_effects/.wallpaper_current
    size = 120
    rounding = 60
    border_size = 3
    border_color = $color11
    rotate = 0
    reload_time = -1
    position = 0, 120
    halign = center
    valign = center
}

# Welcome message with username
label {
    monitor =
    text = Welcome back, $USER
    color = $color13
    font_size = 20
    font_family = Victor Mono Bold Oblique
    position = 0, -350
    halign = center
    valign = center
}

# Password Input
input-field {
    monitor =
    size = 280, 50
    outline_thickness = 2
    dots_size = 0.25
    dots_spacing = 0.35
    dots_center = true
    dots_rounding = -1
    outer_color = $color11
    inner_color = rgba(30, 30, 30, 0.8)
    font_color = $color13
    fade_on_empty = true
    fade_timeout = 2000
    placeholder_text = <span foreground="##ffffff60"><i> Enter Password</i></span>
    hide_input = false
    rounding = 25
    check_color = rgb(204, 136, 34)
    fail_color = rgb(204, 34, 34)
    fail_text = <i>$FAIL <b>($ATTEMPTS)</b></i>
    fail_timeout = 2000
    fail_transition = 300
    capslock_color = $color1
    numlock_color = -1
    bothlock_color = -1
    invert_numlock = false
    swap_font_color = false
    position = 0, -450
    halign = center
    valign = center
}

# Keyboard layout indicator
label {
    monitor =
    text = ‚å® $LAYOUT
    color = $color13
    font_size = 12
    font_family = Victor Mono Bold Oblique
    position = 0, -370
    halign = center
    valign = center
}

# System information panel

# # Date/time in corner for reference
# label {
#     monitor =
#     text = cmd[update:1000] echo "$(date +'%H:%M:%S')"
#     color = $color12
#     font_size = 12
#     font_family = JetBrainsMono Nerd Font
#     position = -20, -45
#     halign = right
#     valign = top
# }

# System stats - Bottom right
label {
    monitor =
    text = cmd[update:30000] echo "<b>$(uptime -p 2>/dev/null || $Scripts/UptimeNixOS.sh 2>/dev/null || echo 'System Online')</b>"
    color = $color14
    font_size = 11
    font_family = Victor Mono Oblique
    position = -20, 60
    halign = right
    valign = bottom
}


# Network status
# label {
#     monitor =
#     text = cmd[update:5000] echo "<b>üåê $(nmcli -t -f active,ssid dev wifi | grep '^yes' | cut -d':' -f2 || echo 'Disconnected')</b>"
#     color = $color13
#     font_size = 11
#     font_family = Victor Mono Oblique
#     position = -20, 10
#     halign = right
#     valign = bottom
# }

# Weather with better error handling
# Credits to Jakoolit-hyperdots repo
# label {
#     monitor =
#     text = cmd[update:1800000] echo "<b>$([ -f "$HOME/.cache/.weather_cache" ] && cat "$HOME/.cache/.weather_cache" || echo 'üå§ Weather unavailable')</b>"
#     color = $color8
#     font_size = 11
#     font_family = Victor Mono Oblique
#     position = 20, 35
#     halign = left
#     valign = bottom
# }
